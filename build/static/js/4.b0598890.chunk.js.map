{"version":3,"sources":["components/skeleton/skeleton.js","assets/img/icon/sort.svg","components/promo/promo.js","components/content/content.js","components/error-boundary/error-bondary.js","components/pages/main-page.js"],"names":["Skeleton","props","className","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","SwiperCore","use","Navigation","Pagination","Promo","useState","charList","setCharList","useKinopoiskService","loading","error","getAllCharacters","useEffect","then","onCharListLoaded","items","arr","map","item","to","id","src","imageUrl","alt","rating","PromoIcon","year","country","time","title","genre","Fragment","modules","spaceBetween","slidesPerView","slidesPerGroup","navigation","nextEl","prevEl","breakpoints","renderItems","errorMessage","skeleton","Array","fill","_","i","content","Content","collection","setCollectionList","getCollection","onCollectionListLoaded","subtitle","ErrorBoundary","state","errorInfo","console","log","this","setState","children","Component","MainPage"],"mappings":"6UAqBeA,EAjBE,SAACC,GAAD,OACd,eAAC,IAAD,yBACGC,UAAU,WACVC,MAAO,EACPC,MAAO,IACPC,OAAQ,IACRC,QAAQ,cACRC,gBAAgB,4BAChBC,gBAAgB,WACZP,GARP,cAUG,sBAAMQ,EAAE,IAAIC,EAAE,IAAIC,GAAG,KAAKC,GAAG,KAAKR,MAAM,MAAMC,OAAO,QACrD,sBAAMI,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,OACrD,sBAAMI,EAAE,IAAIC,EAAE,MAAMC,GAAG,IAAIC,GAAG,IAAIR,MAAM,MAAMC,OAAO,YCjB5C,MAA0B,iC,qBCczCQ,IAAWC,IAAI,CAACC,IAAYC,MAE5B,IAiGeC,EAjGD,WACX,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAEA,EAA6CC,cAArCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,iBAExBC,qBAAU,WAEPD,IACIE,KAAKC,KAET,IAEH,IAAMA,EAAmB,SAACR,GACvBC,EAAYD,IA0Df,IAAMS,EAvDN,SAAqBC,GAClB,IAAMD,EAAQC,EAAIC,KAAI,SAACC,GAEpB,OACG,cAAC,IAAD,UACG,eAAC,IAAD,CAAMC,GAAE,iBAAYD,EAAKE,IAAM/B,UAAU,cAAzC,UACG,qBAAKA,UAAU,kBAAf,SACG,qBAAKgC,IAAKH,EAAKI,SAAUC,IAAI,YAEhC,sBAAKlC,UAAU,iBAAf,UACG,oBAAGA,UAAU,wBAAb,UAAsC6B,EAAKM,OAAO,qBAAKH,IAAKI,EAAWF,IAAI,SACxE,sBAAMlC,UAAU,cAAhB,uEAEH,mBAAGA,UAAU,sBAAb,SAAoC6B,EAAKQ,OACzC,mBAAGrC,UAAU,yBAAb,SAAuC6B,EAAKS,UAC5C,mBAAGtC,UAAU,sBAAb,SAAmC,+BAAO6B,EAAKU,YAElD,oBAAIvC,UAAU,uBAAd,SAAsC6B,EAAKW,QAC3C,mBAAGxC,UAAU,0BAAb,SACI6B,EAAKY,YAfGZ,EAAKE,OAqB7B,OACG,cAAC,IAAMW,SAAP,UACG,cAAC,IAAD,CACGC,QAAS,CAAC9B,KACVb,UAAU,iBACV4C,aAAc,GACdC,cAAe,EACfC,eAAgB,EAChBC,WAAY,CACTC,OAAQ,sBACRC,OAAQ,uBAEXC,YAAa,CACV,IAAK,CACFhD,MAAO,IACP2C,cAAe,EACfC,eAAgB,GAEnB,KAAM,CACH5C,MAAO,KACP2C,cAAe,IAlBxB,SAsBInB,MAMCyB,CAAYlC,GAEpBmC,EAAe/B,EAAQ,cAAC,IAAD,IAAmB,KAC1CgC,EAAWjC,EACd,qBAAKpB,UAAU,kBAAf,SACIsD,MAAM,GAAGC,KAAK,GAAG3B,KAAI,SAAC4B,EAAGC,GAAJ,OAAU,cAAC,EAAD,GAAeA,QAEhD,KACCC,EAAYtC,GAAWC,EAAiB,KAARK,EAEtC,OACG,yBAAS1B,UAAU,QAAnB,SACG,sBAAKA,UAAU,6BAAf,UACG,oBAAIA,UAAU,qBAAd,gKACA,sBAAKA,UAAU,gBAAf,UACIoD,EACAC,EACAK,EACD,wBAAQ1D,UAAU,uBAClB,wBAAQA,UAAU,gCChDlB2D,G,OAnDC,WACb,MAAwC3C,mBAAS,IAAjD,mBAAO4C,EAAP,KAAmBC,EAAnB,KAEQC,EAAkB3C,cAAlB2C,cAERvC,qBAAU,WAEPuC,IACItC,KAAKuC,KAET,IAEH,IAAMA,EAAyB,SAACH,GAC7BC,EAAkBD,IAoBrB,IAAMlC,EAAoBkC,EAhBLhC,KAAI,SAACC,GAEpB,OACG,eAAC,IAAD,CAAMC,GAAE,6BAAwBD,EAAKE,IAAM/B,UAAU,mBAArD,UACG,qBAAKA,UAAU,uBAAuBgC,IAAKH,EAAKI,SAAUC,IAAKL,EAAKW,QACpE,sBAAKxC,UAAU,wBAAf,UACG,oBAAIA,UAAU,yBAAd,SAAwC6B,EAAKW,QAC7C,qBAAKxC,UAAU,4BAAf,SAA4C6B,EAAKmC,gBAJsBnC,EAAKE,OAe3F,OACG,yBAAS/B,UAAU,UAAnB,SACG,qBAAKA,UAAU,+BAAf,SACG,sBAAKA,UAAU,mBAAf,UACG,cAAC,IAAD,CAAM8B,GAAG,IAAI9B,UAAU,mCAAvB,8DAGA,qBAAKA,UAAU,4BAAf,SACI0B,a,6BC/CbuC,E,4MACHC,MAAQ,CACL7C,OAAO,G,uDAGV,SAAkBA,EAAO8C,GACtBC,QAAQC,IAAIhD,EAAO8C,GACnBG,KAAKC,SAAS,CACXlD,OAAO,M,oBAIb,WACG,OAAIiD,KAAKJ,MAAM7C,MACL,cAAC,IAAD,IAGHiD,KAAKvE,MAAMyE,a,GAjBIC,aAqBbR,ICNAS,UAbE,WACd,OACG,qCACG,cAAC,EAAD,UACG,cAAC,EAAD,MAEH,cAAC,EAAD,UACG,cAAC,EAAD","file":"static/js/4.b0598890.chunk.js","sourcesContent":["import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport './skeleton.scss';\r\n\r\nconst Skeleton = (props) => (\r\n   <ContentLoader\r\n      className=\"skeleton\"\r\n      speed={2}\r\n      width={200}\r\n      height={330}\r\n      viewBox=\"0 0 200 330\"\r\n      backgroundColor=\"rgba(255, 255, 255, 0.65)\"\r\n      foregroundColor=\"#e3e3e3\"\r\n      {...props}\r\n   >\r\n      <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"200\" height=\"280\" />\r\n      <rect x=\"0\" y=\"291\" rx=\"3\" ry=\"3\" width=\"200\" height=\"16\" />\r\n      <rect x=\"0\" y=\"313\" rx=\"3\" ry=\"3\" width=\"200\" height=\"13\" />\r\n   </ContentLoader >\r\n)\r\n\r\nexport default Skeleton;\r\n\r\n","export default __webpack_public_path__ + \"static/media/sort.d2ad4900.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Navigation, Pagination } from 'swiper';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport useKinopoiskService from '../../services/use-kinopoisk-server';\r\nimport ErrorMessage from '../error-message/error-message';\r\nimport Skeleton from '../skeleton/skeleton';\r\n\r\nimport PromoIcon from '../../assets/img/icon/sort.svg';\r\nimport './swiper.scss'\r\nimport './promo.scss';\r\nimport 'swiper/swiper-bundle.css';\r\n\r\nSwiperCore.use([Navigation, Pagination]);\r\n\r\nconst Promo = () => {\r\n   const [charList, setCharList] = useState([]);\r\n\r\n   const { loading, error, getAllCharacters } = useKinopoiskService();\r\n\r\n   useEffect(() => {\r\n\r\n      getAllCharacters()\r\n         .then(onCharListLoaded)\r\n      //eslint-disable-next-line\r\n   }, [])\r\n\r\n   const onCharListLoaded = (charList) => {\r\n      setCharList(charList);\r\n   }\r\n\r\n   function renderItems(arr) {\r\n      const items = arr.map((item) => {\r\n\r\n         return (\r\n            <SwiperSlide key={item.id}>\r\n               <Link to={`/movie/${item.id}`} className=\"promo__card\">\r\n                  <div className=\"promo__card-img\">\r\n                     <img src={item.imageUrl} alt=\"promo\" />\r\n                  </div>\r\n                  <div className=\"promo__content\">\r\n                     <p className=\"promo__content-rating\">{item.rating}<img src={PromoIcon} alt=\"sort\" />\r\n                        <span className=\"name-rating\">кинопоиск</span>\r\n                     </p>\r\n                     <p className=\"promo__content-year\">{item.year}</p>\r\n                     <p className=\"promo__content-country\">{item.country}</p>\r\n                     <p className=\"promo__content-time\"><span>{item.time}</span></p>\r\n                  </div>\r\n                  <h4 className=\"promo__wrapper-title\">{item.title}</h4>\r\n                  <p className=\"promo__wrapper-subtitle\">\r\n                     {item.genre}\r\n                  </p>\r\n               </Link>\r\n            </SwiperSlide>\r\n         )\r\n      });\r\n      return (\r\n         <React.Fragment>\r\n            <Swiper\r\n               modules={[Navigation]}\r\n               className=\"promo__wrapper\"\r\n               spaceBetween={10}\r\n               slidesPerView={6}\r\n               slidesPerGroup={6}\r\n               navigation={{\r\n                  nextEl: '.swiper-button-next',\r\n                  prevEl: '.swiper-button-prev',\r\n               }}\r\n               breakpoints={{\r\n                  320: {\r\n                     width: 200,\r\n                     slidesPerView: 1,\r\n                     slidesPerGroup: 1\r\n                  },\r\n                  1320: {\r\n                     width: 1280,\r\n                     slidesPerView: 6\r\n                  }\r\n               }}\r\n            >\r\n               {items}\r\n            </Swiper>\r\n         </React.Fragment>\r\n      )\r\n   }\r\n\r\n   const items = renderItems(charList);\r\n\r\n   const errorMessage = error ? <ErrorMessage /> : null;\r\n   const skeleton = loading ?\r\n      <div className='promo__skeleton'>\r\n         {Array(6).fill(0).map((_, i) => <Skeleton key={i} />)}\r\n      </div>\r\n      : null;\r\n   const content = !(loading || error) ? items : null;\r\n\r\n   return (\r\n      <section className=\"promo\">\r\n         <div className=\"promo__container container\">\r\n            <h2 className=\"promo__title title\">Рекомендуем вам посмотреть</h2>\r\n            <div className=\"promo__slider\">\r\n               {errorMessage}\r\n               {skeleton}\r\n               {content}\r\n               <button className='swiper-button-next'></button>\r\n               <button className='swiper-button-prev'></button>\r\n            </div>\r\n         </div>\r\n      </section >\r\n   )\r\n}\r\n\r\nexport default Promo;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport useKinopoiskService from '../../services/use-kinopoisk-server';\r\n\r\nimport './content.scss';\r\n\r\nconst Content = () => {\r\n   const [collection, setCollectionList] = useState([]);\r\n\r\n   const { getCollection } = useKinopoiskService();\r\n\r\n   useEffect(() => {\r\n\r\n      getCollection()\r\n         .then(onCollectionListLoaded)\r\n      //eslint-disable-next-line\r\n   }, [])\r\n\r\n   const onCollectionListLoaded = (collection) => {\r\n      setCollectionList(collection);\r\n   }\r\n\r\n   function renderItems(arr) {\r\n      const items = arr.map((item) => {\r\n\r\n         return (\r\n            <Link to={`/single_collection/${item.id}`} className=\"collection__item\" key={item.id}>\r\n               <img className=\"collection__item-img\" src={item.imageUrl} alt={item.title} />\r\n               <div className=\"collection__item-info\">\r\n                  <h4 className=\"collection__item-title\">{item.title}</h4>\r\n                  <div className=\"collection__item-subtitle\">{item.subtitle}</div>\r\n               </div>\r\n            </Link >\r\n         )\r\n      });\r\n\r\n      return items\r\n   }\r\n\r\n   const items = renderItems(collection);\r\n\r\n   return (\r\n      <section className=\"content\">\r\n         <div className=\"content__container container\">\r\n            <div className=\"content__wrapper\">\r\n               <Link to=\"/\" className=\"content__title title icon-square\">\r\n                  Подборки\r\n               </Link>\r\n               <div className=\"content__inner collection\">\r\n                  {items}\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </section>\r\n   )\r\n}\r\n\r\nexport default Content;","import { Component } from 'react';\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\nclass ErrorBoundary extends Component {\r\n   state = {\r\n      error: false\r\n   }\r\n\r\n   componentDidCatch(error, errorInfo) {\r\n      console.log(error, errorInfo);\r\n      this.setState({\r\n         error: true\r\n      })\r\n   }\r\n\r\n   render() {\r\n      if (this.state.error) {\r\n         return <ErrorMessage />\r\n      }\r\n\r\n      return this.props.children;\r\n   }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from 'react';\r\nimport Promo from '../promo/promo';\r\nimport Content from '../content/content';\r\nimport ErrorBoundary from '../error-boundary/error-bondary';\r\n\r\nconst MainPage = () => {\r\n   return (\r\n      <>\r\n         <ErrorBoundary>\r\n            <Promo />\r\n         </ErrorBoundary>\r\n         <ErrorBoundary>\r\n            <Content />\r\n         </ErrorBoundary>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default MainPage;"],"sourceRoot":""}