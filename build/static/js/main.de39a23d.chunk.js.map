{"version":3,"sources":["components/pages/404/404.js","components/header/header-menu/menu-item/menu-item.js","components/header/header-menu/header-menu.js","modules/device.js","components/header/header.js","components/footer/footer.js","components/modal-search/modal-search.js","components/modal-login/modal-login.js","components/app/App.js","index.js","components/error-message/error.gif","components/error-message/error-message.js","services/use-kinopoisk-server.js","hooks/http.hook.js","components/spinner/spinner.js"],"names":["Page404","className","style","to","MenuItem","props","onShow","setState","show","state","this","title","menuLink","subMenu","elem","data","map","item","id","itemProps","onClick","type","Component","SubMenuItem","subtitle","HeaderMenu","onActive","active","data2","menuIcon","menuBody","Device","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","document","documentElement","classList","add","Header","setModalSearch","setModalLogin","Footer","ModalSearch","open","onClose","useState","movie","setMovie","useKinopoiskService","loading","error","getMovieByName","clearError","onMovieLoaded","arr","errorMessage","results","length","slice","i","year","CSSTransition","in","timeout","classNames","mountOnEnter","unmountOnExit","initialValues","movieName","validationSchema","Yup","required","onSubmit","name","then","placeholder","disabled","component","ModalLogin","telephone","password","terms","matches","min","oneOf","values","setSubmitting","setTimeout","alert","JSON","stringify","htmlFor","autoComplete","MainPage","lazy","SingleMoviePage","SingleCollectionPage","App","modalSearch","modalLogin","fallback","path","element","ReactDOM","render","StrictMode","getElementById","ErrorMessage","width","display","justifyContent","overflow","backgroundColor","borderRadius","src","img","alt","setLoading","setError","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","message","useHttp","_apiKey","getAllCharacters","res","films","_transformCharacter","getCollection","collection","_transformCollection","getCompilation","_transformSearchMovie","getMovie","_transformMovie","filmId","imageUrl","posterUrl","rating","country","countries","time","filmLength","replace","nameRu","genre","genres","kinopoiskId","posterUrlPreview","age","ratingAgeLimits","ratingImdb","ratingKinopoisk","description","shortDescription","Spinner"],"mappings":"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","file":"static/js/main.de39a23d.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\"\r\nimport './404.scss';\r\n\r\nconst Page404 = () => {\r\n   return (\r\n      <div className=\"error-page\" style={{ 'textAlign': 'center' }}>\r\n         <h1>404</h1>\r\n         <span>Страница не найдена</span>\r\n         <p>Мы сожалеем, но страница на которую Вы пытались перейти не существует. Пожалуйста вернитесь на предыдущую страницу или воспользуйтесь меню сайта</p>\r\n         <Link to=\"/\" className=\"error-page__btn-error\">Главная страница</Link>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Page404;","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nclass MenuItem extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         show: false\r\n      }\r\n   }\r\n\r\n   onShow = () => {\r\n      this.setState(({ show }) => ({\r\n         show: !show,\r\n      }));\r\n   }\r\n\r\n   render() {\r\n      const { show } = this.state;\r\n      const { title, data } = this.props;\r\n\r\n      let menuLink = \"menu__link menu__link-sub icon-square\";\r\n      let subMenu = \"sub-menu__list\";\r\n\r\n      if (show) {\r\n         menuLink += ' click';\r\n         subMenu += ' open'\r\n      }\r\n\r\n      const elem = data.map(item => {\r\n         const { id, ...itemProps } = item\r\n         return (\r\n            <SubMenuItem key={id} {...itemProps} />\r\n         )\r\n      })\r\n\r\n      return (\r\n         <li className=\"menu__item\">\r\n            <button onClick={this.onShow} type=\"button\" className={menuLink}>{title}</button>\r\n            <ul className={subMenu}>\r\n               {elem}\r\n            </ul>\r\n         </li>\r\n      )\r\n   }\r\n}\r\n\r\nconst SubMenuItem = ({ subtitle }) => {\r\n   return (\r\n      <li className=\"sub-menu__item\">\r\n         <Link to=\"/\" className=\"sub-menu__link\">{subtitle}</Link>\r\n      </li>\r\n   )\r\n}\r\n\r\nexport default MenuItem;","import { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport MenuItem from './menu-item/menu-item';\r\nimport './header-menu.scss';\r\n\r\nclass HeaderMenu extends Component {\r\n   constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n         active: false,\r\n         data: [\r\n            { id: 1, subtitle: 'Популярное' },\r\n            { id: 2, subtitle: 'Подборки фильмов' },\r\n            { id: 3, subtitle: 'Смотрят сейчас' },\r\n            { id: 4, subtitle: 'Ожидаемое' },\r\n            { id: 5, subtitle: 'Лучшее' }\r\n         ],\r\n         data2: [\r\n            { id: 1, subtitle: 'Популярные актеры' }\r\n         ]\r\n      }\r\n   }\r\n\r\n   onActive = () => {\r\n      this.setState(({ active }) => ({\r\n         active: !active\r\n      }));\r\n   }\r\n\r\n   render() {\r\n      const { active, data, data2 } = this.state;\r\n\r\n      let menuIcon = \"menu__icon icon-menu\";\r\n      let menuBody = \"menu__body\";\r\n\r\n\r\n      if (active) {\r\n         menuIcon += ' active';\r\n         menuBody += ' active';\r\n      }\r\n\r\n      return (\r\n         <div className=\"header__menu menu\" >\r\n            <button onClick={this.onActive} type=\"button\" className={menuIcon}><span></span></button>\r\n            <nav className={menuBody}>\r\n               <ul className=\"menu__list\">\r\n                  <MenuItem title={'Что посмотреть'} data={data} />\r\n                  <li className=\"menu__item\">\r\n                     <Link to=\"/\" className=\"menu__link\">Трейлеры</Link>\r\n                  </li>\r\n                  <MenuItem title={'Актеры'} data={data2} />\r\n                  <li className=\"menu__item\">\r\n                     <Link to=\"/\" className=\"menu__link\">Сериалы</Link>\r\n                  </li>\r\n               </ul>\r\n            </nav>\r\n         </div >\r\n      )\r\n   }\r\n}\r\n\r\nexport default HeaderMenu;","const Device = () => {\r\n   let isMobile = { Android: function () { return navigator.userAgent.match(/Android/i); }, BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); }, iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); }, Opera: function () { return navigator.userAgent.match(/Opera Mini/i); }, Windows: function () { return navigator.userAgent.match(/IEMobile/i); }, any: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); } };\r\n   function addTouchClass() {\r\n      if (isMobile.any()) document.documentElement.classList.add('touch');\r\n      else {\r\n         document.documentElement.classList.add('mouse');\r\n      }\r\n   }\r\n\r\n   addTouchClass();\r\n}\r\n\r\nexport default Device;\r\n\r\n","import { Link } from 'react-router-dom';\r\nimport HeaderMenu from './header-menu/header-menu';\r\nimport Device from '../../modules/device';\r\nimport './header.scss';\r\n\r\n\r\nconst Header = (props) => {\r\n   Device();\r\n   return (\r\n      <header className=\"header\">\r\n         <div className=\"header__container\">\r\n            <Link to=\"/\" className=\"header__logo\">\r\n               <h1>SMART</h1>\r\n               <p>подборки фильмов</p>\r\n            </Link>\r\n            <HeaderMenu />\r\n            <div className=\"header__actions\">\r\n               <button onClick={() => props.setModalSearch(true)} className=\"header__link\">\r\n                  <i className=\"icon-search\"></i>\r\n               </button>\r\n               <button onClick={() => props.setModalLogin(true)} className=\"header__link\">\r\n                  <i className=\"icon-user\"></i>\r\n               </button>\r\n            </div>\r\n         </div>\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default Header;","import { Link } from 'react-router-dom';\r\n\r\nimport './footer.scss';\r\n\r\nconst Footer = () => {\r\n   return (\r\n      < footer className=\"footer\" >\r\n         <div className=\"footer__container container\">\r\n            <div className=\"footer__top\">\r\n               <div className=\"footer__top-social social\">\r\n                  <ul className=\"social-list\">\r\n                     <li className=\"social-list__item\">\r\n                        <Link to=\"/\" className=\"social-list__link icon-vk\"></Link>\r\n                     </li>\r\n                     <li className=\"social-list__item\">\r\n                        <Link to=\"/\" className=\"social-list__link icon-facebook\"></Link>\r\n                     </li>\r\n                     <li className=\"social-list__item\">\r\n                        <Link to=\"/\" className=\"social-list__link icon-twitter\"></Link>\r\n                     </li>\r\n                     <li className=\"social-list__item\">\r\n                        <Link to=\"/\" className=\"social-list__link icon-instagram\"></Link>\r\n                     </li>\r\n                     <li className=\"social-list__item\">\r\n                        <Link to=\"/\" className=\"social-list__link icon-youtube\"></Link>\r\n                     </li>\r\n                  </ul>\r\n               </div>\r\n               <div className=\"footer__top-list\">\r\n                  <ul className=\"footer-list\">\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">Подборки</Link>\r\n                     </li>\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">Трейлеры</Link>\r\n                     </li>\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">Сериалы</Link>\r\n                     </li>\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">Актеры</Link>\r\n                     </li>\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">Контакты</Link>\r\n                     </li>\r\n                     <li className=\"footer-list__item\">\r\n                        <Link to=\"/\" className=\"footer-list__link\">О нас</Link>\r\n                     </li>\r\n                  </ul>\r\n               </div>\r\n            </div>\r\n            <div className=\"footer__bottom\">\r\n               <p>© 2022, <Link to=\"/\" >SMART</Link> 18+</p>\r\n            </div>\r\n         </div>\r\n      </footer >\r\n   )\r\n}\r\n\r\nexport default Footer;","import { CSSTransition } from 'react-transition-group';\r\nimport { useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { Link } from 'react-router-dom';\r\nimport { Formik, Form, Field, ErrorMessage as FormikErrorMessage } from 'formik';\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\n\r\nimport useKinopoiskService from '../../services/use-kinopoisk-server';\r\nimport './modal-search.scss';\r\n\r\nconst ModalSearch = ({ open, onClose }) => {\r\n   const [movie, setMovie] = useState(null);\r\n   const { loading, error, getMovieByName, clearError } = useKinopoiskService()\r\n\r\n   const onMovieLoaded = (movie) => {\r\n      setMovie(movie)\r\n   }\r\n\r\n   const updateMovie = (name) => {\r\n      clearError();\r\n\r\n      getMovieByName(name)\r\n         .then(onMovieLoaded);\r\n   }\r\n\r\n   const duration = 300;\r\n\r\n   function renderMovie(arr) {\r\n      const items = arr.slice(0, 8).map((item, i) => {\r\n\r\n         return (\r\n            <div key={i} className='modal-search__inner'>\r\n               <i className=\"icon-video\"></i>\r\n               <Link onClick={onClose} to={`/movie/${item.id}`} className='modal-search__success'> <span>{item.title}</span> <span>{`(${item.year})`}</span></Link>\r\n            </div>\r\n         )\r\n      })\r\n      return (\r\n         items\r\n      )\r\n   }\r\n\r\n   const errorMessage = error ? <div className='modal-search__critical-error'><ErrorMessage /></div> : null;\r\n   const results = !movie ? null : movie.length > 0 ?\r\n      <div className='modal-search__wrapper'>\r\n         {renderMovie(movie)}\r\n      </div>\r\n      :\r\n      <div className='modal-search__error'>Фильм не был найден. Проверьте название и повторите попытку</div>\r\n\r\n   return (\r\n      <CSSTransition\r\n         in={open}\r\n         timeout={duration}\r\n         classNames=\"popup\"\r\n         mountOnEnter\r\n         unmountOnExit\r\n      >\r\n         <Formik\r\n            initialValues={{\r\n               movieName: ''\r\n            }}\r\n            validationSchema={Yup.object({\r\n               movieName: Yup.string().required('Обязательное поле!')\r\n            })}\r\n            onSubmit={({ movieName }) => {\r\n               updateMovie(movieName);\r\n            }}\r\n         >\r\n            <div className=\"popup\" >\r\n               <div className=\"popup__container\">\r\n                  <div className=\"popup__body\">\r\n                     <h1 className=\"popup__title\">Поиск</h1>\r\n                     <Form>\r\n                        <Field\r\n                           id=\"movieName\"\r\n                           name=\"movieName\"\r\n                           type=\"text\"\r\n                           placeholder=\"Фильмы\"\r\n                           className=\"popup__input\" />\r\n                        <button\r\n                           type='submit'\r\n                           className=\"popup__btn button__search\"\r\n                           disabled={loading}>\r\n                           <div className=\"inner\">Найти</div>\r\n                        </button>\r\n                     </Form>\r\n                     <button onClick={onClose} className=\"close\">&times;</button>\r\n                     <FormikErrorMessage component=\"div\" className=\"modal-search__error\" name=\"charName\" />\r\n                  </div>\r\n                  {results}\r\n                  {errorMessage}\r\n               </div>\r\n            </div >\r\n         </Formik>\r\n      </CSSTransition>\r\n\r\n   )\r\n}\r\n\r\nexport default ModalSearch;","import { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport * as Yup from 'yup';\r\n\r\nimport '../modal-search/modal-search.scss';\r\nimport '../modal-login/modal-login.scss';\r\n\r\nconst ModalLogin = ({ open, onClose }) => {\r\n\r\n   const duration = 300;\r\n\r\n   const phoneRegExp = /^(\\+?\\d{0,4})?\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{3}\\)?)\\s?-?\\s?(\\(?\\d{4}\\)?)?$/;\r\n\r\n   return (\r\n      <CSSTransition\r\n         in={open}\r\n         timeout={duration}\r\n         classNames=\"popup\"\r\n         mountOnEnter\r\n         unmountOnExit\r\n      >\r\n         <Formik\r\n            initialValues={{\r\n               telephone: '',\r\n               password: '',\r\n               terms: false\r\n            }}\r\n            validationSchema={Yup.object({\r\n               telephone: Yup.string()\r\n                  .required('Обязательное поле!')\r\n                  .matches(phoneRegExp, 'Введите номер в международном формате, вот так: +79XXXXXXXXX'),\r\n               password: Yup.string()\r\n                  .min(6, 'Не менее 6 символов')\r\n                  .required('Обязательное поле!'),\r\n               terms: Yup.boolean()\r\n                  .required('Необходимо согласие')\r\n                  .oneOf([true], \"Необходимо согласие\")\r\n            })}\r\n            onSubmit={(values, { setSubmitting }) => {\r\n               setTimeout(() => {\r\n                  alert(JSON.stringify(values, null, 2));\r\n                  setSubmitting(false);\r\n               }, 400);\r\n            }}\r\n         >\r\n\r\n            <div className=\"popup\" >\r\n               <div className=\"popup__container popup-login__container\">\r\n                  <div className=\"popup__body\">\r\n                     <h1 className=\"popup__title\">Вход | Регистрация</h1>\r\n                     <p></p>\r\n                     <Form className=\"form\">\r\n                        <label htmlFor=\"telephone\">Телефон</label>\r\n                        <Field\r\n                           id=\"telephone\"\r\n                           name=\"telephone\"\r\n                           type=\"tel\"\r\n                           autoComplete=\"off\"\r\n                        />\r\n                        <ErrorMessage component=\"div\" className=\"error\" name=\"telephone\" />\r\n                        <label htmlFor=\"password\">Пароль</label>\r\n                        <Field\r\n                           id=\"password\"\r\n                           name=\"password\"\r\n                           type=\"password\"\r\n                           autoComplete=\"off\"\r\n                        />\r\n                        <ErrorMessage component=\"div\" className=\"error\" name=\"password\" />\r\n                        <label className='form__lable-checkbox'>\r\n                           <Field\r\n                              name=\"terms\"\r\n                              type=\"checkbox\"\r\n                              className=\"form__checkbox\"\r\n                           />\r\n                           <div className='form__checkbox-mark'></div>\r\n                           Я принимаю условия Политики приватности и Пользовательского соглашения\r\n                        </label>\r\n                        <ErrorMessage component=\"div\" className=\"error\" name=\"terms\" />\r\n                        <button type=\"submit\">Отправить</button>\r\n                     </Form>\r\n                     <button onClick={onClose} className=\"close\">&times;</button>\r\n                  </div>\r\n               </div>\r\n            </div >\r\n         </Formik>\r\n      </CSSTransition >\r\n   )\r\n}\r\n\r\nexport default ModalLogin;","import { useState, lazy, Suspense } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\r\n\r\nimport { Page404 } from '../pages';\r\nimport Header from '../header/header';\r\nimport Footer from '../footer/footer';\r\nimport Spinner from '../spinner/spinner'\r\nimport ModalSearch from '../modal-search/modal-search'\r\nimport ModalLogin from '../modal-login/modal-login';\r\n\r\nimport './app.scss';\r\nimport './fonts.scss';\r\n\r\nconst MainPage = lazy(() => import('../pages/main-page'));\r\nconst SingleMoviePage = lazy(() => import('../pages/single-movie-page/single-movie-page'));\r\nconst SingleCollectionPage = lazy(() => import('../pages/single-collection-page/single-collection-page'));\r\n\r\n\r\nfunction App() {\r\n   const [modalSearch, setModalSearch] = useState(false)\r\n   const [modalLogin, setModalLogin] = useState(false)\r\n\r\n   return (\r\n      <Router>\r\n         <div className=\"page\">\r\n            <Header setModalLogin={setModalLogin} setModalSearch={setModalSearch} />\r\n            <ModalSearch open={modalSearch} onClose={() => setModalSearch(false)} />\r\n            <ModalLogin open={modalLogin} onClose={() => setModalLogin(false)} />\r\n            <main>\r\n               <Suspense fallback={<Spinner />}>\r\n                  <Routes>\r\n                     <Route path=\"/\" element={<MainPage />} />\r\n                     <Route path=\"/movie/:movieId\" element={<SingleMoviePage />} />\r\n                     <Route path=\"/single_collection/:compilationId\" element={<SingleCollectionPage />} />\r\n                     <Route path=\"*\" element={<Page404 />} />\r\n                  </Routes>\r\n               </Suspense>\r\n            </main>\r\n            <Footer />\r\n         </div>\r\n      </Router>\r\n   );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export default __webpack_public_path__ + \"static/media/error.3ab12af3.gif\";","import img from './error.gif'\r\n\r\nconst ErrorMessage = () => {\r\n   return (\r\n      <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", overflow: \"hidden\", backgroundColor: \"#000\", borderRadius: \"10px\" }}>\r\n         <img src={img} alt=\"error-message\" style={{ 'height': '280px' }} />\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ErrorMessage;","import { useHttp } from '../hooks/http.hook';\r\n\r\nconst useKinopoiskService = () => {\r\n   const { loading, request, error, clearError } = useHttp();\r\n\r\n   const _apiKey = 'e26ee2eb-f418-44d1-abcf-ce19e4e17c2e'\r\n\r\n   const getAllCharacters = async () => {\r\n      const res = await request('https://kinopoiskapiunofficial.tech/api/v2.2/films/top?type=TOP_100_POPULAR_FILMS&page=1', 'GET', null, {\r\n         'X-API-KEY': _apiKey, 'Content-Type': 'application/json'\r\n      });\r\n      return res.films.map(_transformCharacter);\r\n   }\r\n\r\n   const getCollection = async () => {\r\n      const res = await request('http://myjson.dit.upm.es/api/bins/hnrt');\r\n      return res.collection.map(_transformCollection)\r\n   }\r\n\r\n   const getCompilation = async (id) => {\r\n      const res = await request('http://myjson.dit.upm.es/api/bins/hnrt');\r\n      return res.collection[id]\r\n   }\r\n\r\n   // const getCompilationFilms = async (id) => {\r\n   //    const res = await request('http://myjson.dit.upm.es/api/bins/hnrt');\r\n   //    return res.collection[id].films[0].filmId\r\n   // }\r\n\r\n\r\n   const getMovieByName = async (name) => {\r\n      const res = await request(`https://kinopoiskapiunofficial.tech/api/v2.1/films/search-by-keyword?keyword=${name}&page=1`, 'GET', null, {\r\n         'X-API-KEY': _apiKey, 'Content-Type': 'application/json'\r\n      });\r\n      return res.films.map(_transformSearchMovie);\r\n   }\r\n\r\n   const getMovie = async (id) => {\r\n      const res = await request(`https://kinopoiskapiunofficial.tech/api/v2.2/films/${id}`, 'GET', null, {\r\n         'X-API-KEY': _apiKey, 'Content-Type': 'application/json'\r\n      });\r\n      return _transformMovie(res)\r\n   }\r\n\r\n   const _transformCharacter = (res) => {\r\n      return {\r\n         id: res.filmId,\r\n         imageUrl: res.posterUrl,\r\n         rating: res.rating,\r\n         year: res.year,\r\n         country: res.countries[0].country,\r\n         time: res.filmLength ? `${res.filmLength.replace(/:/, ' ч. ')} мин.` : '-',\r\n         title: res.nameRu,\r\n         genre: res.genres[0].genre\r\n      }\r\n   }\r\n\r\n   const _transformCollection = (res) => {\r\n      return {\r\n         id: res.id,\r\n         imageUrl: res.imageUrl,\r\n         title: res.title,\r\n         subtitle: res.subtitle,\r\n         films: res.films\r\n      }\r\n   }\r\n\r\n   const _transformSearchMovie = (res) => {\r\n      return {\r\n         id: res.filmId,\r\n         title: res.nameRu,\r\n         year: res.year,\r\n      }\r\n   }\r\n\r\n   const _transformMovie = (res) => {\r\n      return {\r\n         id: res.kinopoiskId,\r\n         name: res.nameRu,\r\n         imageUrl: res.posterUrlPreview,\r\n         age: res.ratingAgeLimits ? res.ratingAgeLimits.slice(3, 5) : '—',\r\n         ratingImdb: res.ratingImdb || '—',\r\n         ratingKinopoisk: res.ratingKinopoisk || '—',\r\n         year: res.year || '—',\r\n         description: res.description || '—',\r\n         shortDescription: res.shortDescription || '—',\r\n         countries: res.countries.map((item, i) => (i ? ', ' : '') + item.country),\r\n         genres: res.genres.map((item, i) => (i ? ', ' : '') + item.genre)\r\n      }\r\n   }\r\n\r\n   return { loading, error, clearError, getAllCharacters, getCollection, getMovie, getMovieByName, getCompilation }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport default useKinopoiskService;","import { useState, useCallback } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState(null);\r\n\r\n   const request = useCallback(async (url, method = 'GET', body = null, headers) => {\r\n\r\n      setLoading(true);\r\n\r\n      try {\r\n         const response = await fetch(url, { method, body, headers });\r\n\r\n         if (!response.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n         }\r\n\r\n         const data = await response.json();\r\n\r\n         setLoading(false);\r\n         return data;\r\n      } catch (e) {\r\n         setLoading(false);\r\n         setError(e.message);\r\n         throw e;\r\n      }\r\n\r\n   }, []);\r\n\r\n   const clearError = useCallback(() => setError(null), []);\r\n\r\n   return { loading, request, error, clearError }\r\n}","import './spinner.scss'\r\n\r\nconst Spinner = () => {\r\n   return (\r\n      <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n   )\r\n}\r\n\r\nexport default Spinner"],"sourceRoot":""}