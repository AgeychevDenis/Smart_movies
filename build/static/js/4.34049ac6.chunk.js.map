{"version":3,"sources":["components/error-message/error.gif","components/error-message/error-message.js","components/skeleton/skeleton.js","assets/img/icon/sort.svg","components/promo/promo.js","components/content/collection-item/collection-item.js","components/content/content.js","components/error-boundary/error-bondary.js","components/pages/main-page.js"],"names":["ErrorMessage","style","width","display","justifyContent","overflow","backgroundColor","borderRadius","src","img","alt","Skeleton","props","className","speed","height","viewBox","foregroundColor","x","y","rx","ry","SwiperCore","use","Navigation","Pagination","Promo","useState","charList","setCharList","useKinopoiskService","loading","error","getAllCharacters","useEffect","then","onCharListLoaded","items","arr","map","item","i","to","id","imageUrl","rating","PromoIcon","year","country","time","title","genre","Fragment","modules","spaceBetween","slidesPerView","slidesPerGroup","navigation","nextEl","prevEl","breakpoints","renderItems","errorMessage","skeleton","Array","fill","_","content","CollectionItem","subtitle","href","Content","collection","setCollectionList","getCollection","onCollectionListLoaded","itemProps","ErrorBoundary","state","errorInfo","console","log","this","setState","children","Component","MainPage"],"mappings":"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","file":"static/js/4.34049ac6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/error.3ab12af3.gif\";","import img from './error.gif'\r\n\r\nconst ErrorMessage = () => {\r\n   return (\r\n      <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", overflow: \"hidden\", backgroundColor: \"#000\", borderRadius: \"10px\" }}>\r\n         <img src={img} alt=\"error-message\" style={{ 'height': '280px' }} />\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ErrorMessage;","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport './skeleton.scss';\r\n\r\nconst Skeleton = (props) => (\r\n   <ContentLoader\r\n      className=\"skeleton\"\r\n      speed={2}\r\n      width={200}\r\n      height={330}\r\n      viewBox=\"0 0 200 330\"\r\n      backgroundColor=\"rgba(255, 255, 255, 0.65)\"\r\n      foregroundColor=\"#e3e3e3\"\r\n      {...props}\r\n   >\r\n      <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"200\" height=\"280\" />\r\n      <rect x=\"0\" y=\"291\" rx=\"3\" ry=\"3\" width=\"200\" height=\"16\" />\r\n      <rect x=\"0\" y=\"313\" rx=\"3\" ry=\"3\" width=\"200\" height=\"13\" />\r\n   </ContentLoader >\r\n)\r\n\r\nexport default Skeleton;\r\n\r\n","export default __webpack_public_path__ + \"static/media/sort.d2ad4900.svg\";","import React, { useState, useEffect } from 'react';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\nimport SwiperCore, { Navigation, Pagination } from 'swiper';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport useKinopoiskService from '../../services/use-kinopoisk-server';\r\nimport ErrorMessage from '../error-message/error-message';\r\nimport Skeleton from '../skeleton/skeleton';\r\n\r\nimport PromoIcon from '../../assets/img/icon/sort.svg';\r\nimport './swiper.scss'\r\nimport './promo.scss';\r\nimport 'swiper/swiper-bundle.css';\r\n\r\nSwiperCore.use([Navigation, Pagination]);\r\n\r\nconst Promo = () => {\r\n   const [charList, setCharList] = useState([]);\r\n\r\n   const { loading, error, getAllCharacters } = useKinopoiskService();\r\n\r\n   useEffect(() => {\r\n\r\n      getAllCharacters()\r\n         .then(onCharListLoaded)\r\n   }, [])\r\n\r\n   const onCharListLoaded = (charList) => {\r\n      setCharList(charList);\r\n   }\r\n\r\n   function renderItems(arr) {\r\n      const items = arr.map((item, i) => {\r\n\r\n         return (\r\n            <SwiperSlide key={i}>\r\n               <Link to={`/movie/${item.id}`} className=\"promo__card\">\r\n                  <div className=\"promo__card-img\">\r\n                     <img src={item.imageUrl} alt=\"promo\" />\r\n                  </div>\r\n                  <div className=\"promo__content\">\r\n                     <p className=\"promo__content-rating\">{item.rating}<img src={PromoIcon} alt=\"sort\" />\r\n                        <span className=\"name-rating\">кинопоиск</span>\r\n                     </p>\r\n                     <p className=\"promo__content-year\">{item.year}</p>\r\n                     <p className=\"promo__content-country\">{item.country}</p>\r\n                     <p className=\"promo__content-time\">{item.time} минут</p>\r\n                  </div>\r\n                  <h4 className=\"promo__wrapper-title\">{item.title}</h4>\r\n                  <p className=\"promo__wrapper-subtitle\">\r\n                     {item.genre}\r\n                  </p>\r\n               </Link>\r\n            </SwiperSlide>\r\n         )\r\n      });\r\n      return (\r\n         <React.Fragment>\r\n            <Swiper\r\n               modules={[Navigation]}\r\n               className=\"promo__wrapper\"\r\n               spaceBetween={10}\r\n               slidesPerView={6}\r\n               slidesPerGroup={6}\r\n               navigation={{\r\n                  nextEl: '.swiper-button-next',\r\n                  prevEl: '.swiper-button-prev',\r\n               }}\r\n               breakpoints={{\r\n                  320: {\r\n                     width: 200,\r\n                     slidesPerView: 1,\r\n                     slidesPerGroup: 1\r\n                  },\r\n                  1320: {\r\n                     width: 1280,\r\n                     slidesPerView: 6\r\n                  }\r\n               }}\r\n            >\r\n               {items}\r\n            </Swiper>\r\n         </React.Fragment>\r\n      )\r\n   }\r\n\r\n   const items = renderItems(charList);\r\n\r\n   const errorMessage = error ? <ErrorMessage /> : null;\r\n   const skeleton = loading ?\r\n      <div className='promo__skeleton'>\r\n         {Array(6).fill(0).map((_, i) => <Skeleton key={i} />)}\r\n      </div>\r\n      : null;\r\n   const content = !(loading || error) ? items : null;\r\n\r\n   return (\r\n      <section className=\"promo\">\r\n         <div className=\"promo__container container\">\r\n            <h2 className=\"promo__title title\">Рекомендуем вам посмотреть</h2>\r\n            <div className=\"promo__slider\">\r\n               {errorMessage}\r\n               {skeleton}\r\n               {content}\r\n               <button className='swiper-button-next'></button>\r\n               <button className='swiper-button-prev'></button>\r\n            </div>\r\n         </div>\r\n      </section >\r\n   )\r\n}\r\n\r\nexport default Promo;","import { Link } from 'react-router-dom';\r\n\r\nimport './collection-item.scss';\r\n\r\nconst CollectionItem = ({ imageUrl, title, subtitle }) => {\r\n   return (\r\n      <Link to=\"/\" className=\"collection__item\" href=\"#\">\r\n         <img className=\"collection__item-img\" src={imageUrl} alt={title} />\r\n         <div className=\"collection__item-info\">\r\n            <h4 className=\"collection__item-title\">{title}</h4>\r\n            <div className=\"collection__item-subtitle\">{subtitle}</div>\r\n         </div>\r\n      </Link>\r\n   )\r\n}\r\n\r\nexport default CollectionItem;","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CollectionItem from './collection-item/collection-item';\r\nimport useKinopoiskService from '../../services/use-kinopoisk-server';\r\n\r\nimport './content.scss';\r\n\r\nconst Content = () => {\r\n   const [collection, setCollectionList] = useState([]);\r\n\r\n   const { getCollection } = useKinopoiskService();\r\n\r\n   useEffect(() => {\r\n\r\n      getCollection()\r\n         .then(onCollectionListLoaded)\r\n   }, [])\r\n\r\n   const onCollectionListLoaded = (collection) => {\r\n      setCollectionList(collection);\r\n   }\r\n\r\n   function renderItems(arr) {\r\n      const items = arr.map((item) => {\r\n         const { id, ...itemProps } = item\r\n\r\n         return (\r\n            <CollectionItem key={id} {...itemProps} />\r\n         )\r\n      });\r\n\r\n      return items\r\n   }\r\n\r\n   const items = renderItems(collection);\r\n\r\n   return (\r\n      <section className=\"content\">\r\n         <div className=\"content__container container\">\r\n            <div className=\"content__wrapper\">\r\n               <Link to=\"/\" className=\"content__title title icon-square\">\r\n                  Подборки\r\n               </Link>\r\n               <div className=\"content__inner collection\">\r\n                  {items}\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </section>\r\n   )\r\n}\r\n\r\nexport default Content;","import { Component } from 'react';\r\nimport ErrorMessage from '../error-message/error-message';\r\n\r\nclass ErrorBoundary extends Component {\r\n   state = {\r\n      error: false\r\n   }\r\n\r\n   componentDidCatch(error, errorInfo) {\r\n      console.log(error, errorInfo);\r\n      this.setState({\r\n         error: true\r\n      })\r\n   }\r\n\r\n   render() {\r\n      if (this.state.error) {\r\n         return <ErrorMessage />\r\n      }\r\n\r\n      return this.props.children;\r\n   }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from 'react';\r\nimport Promo from '../promo/promo';\r\nimport Content from '../content/content';\r\nimport ErrorBoundary from '../error-boundary/error-bondary';\r\n\r\nconst MainPage = () => {\r\n   return (\r\n      <>\r\n         <ErrorBoundary>\r\n            <Promo />\r\n            <Content />\r\n         </ErrorBoundary>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default MainPage;"],"sourceRoot":""}