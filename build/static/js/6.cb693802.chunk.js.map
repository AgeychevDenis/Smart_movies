{"version":3,"sources":["components/pages/single-movie-page/single-movie-page.js"],"names":["View","movie","name","imageUrl","age","ratingImdb","ratingKinopoisk","year","description","shortDescription","countries","genres","className","src","alt","SingleMoviePage","movieId","useParams","useState","setMovie","useKinopoiskService","loading","error","getMovie","clearError","useEffect","updateMovie","then","onMovieLoaded","errorMessage","spinner","content"],"mappings":"4MA4CMA,EAAO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACLC,EAA6GD,EAA7GC,KAAMC,EAAuGF,EAAvGE,SAAUC,EAA6FH,EAA7FG,IAAKC,EAAwFJ,EAAxFI,WAAYC,EAA4EL,EAA5EK,gBAAiBC,EAA2DN,EAA3DM,KAAMC,EAAqDP,EAArDO,YAAaC,EAAwCR,EAAxCQ,iBAAkBC,EAAsBT,EAAtBS,UAAWC,EAAWV,EAAXU,OAE1G,OACG,0BAASC,UAAU,yBAAnB,UACG,sBAAKA,UAAU,wBAAf,UACG,qBAAKA,UAAU,oBAAf,SACG,qBAAKC,IAAKV,EAAUW,IAAKZ,MAE5B,sBAAKU,UAAU,qBAAf,UACG,sBAAKA,UAAU,sBAAf,UACG,qBAAIA,UAAU,qBAAd,UAAoCV,EAApC,KAA4CK,EAA5C,OACA,sBAAKK,UAAU,uBAAf,UACG,oBAAGA,UAAU,iCAAb,UAA+CN,EAAgB,6FAC/D,oBAAGM,UAAU,4BAAb,UAA0CP,EAA1C,IAAsD,iDAG5D,sBAAKO,UAAU,2BAAf,UACG,oBAAIA,UAAU,4BAAd,yDACA,sBAAKA,UAAU,qBAAf,UACG,4HACA,4BAAIL,OAEP,sBAAKK,UAAU,qBAAf,UACG,qEACA,4BAAIF,OAEP,sBAAKE,UAAU,qBAAf,UACG,yDACA,4BAAID,OAEP,sBAAKC,UAAU,qBAAf,UACG,qEACA,4BAAIH,OAEP,sBAAKG,UAAU,qBAAf,UACG,2EACA,4BAAY,WAARR,EAAcA,EAAM,IAAMA,gBAK1C,sBAAKQ,UAAU,qBAAf,UACG,oBAAIA,UAAU,2BAAd,4CACA,mBAAGA,UAAU,0BAAb,SACIJ,WAODO,UAtFS,WACrB,IAAQC,EAAYC,cAAZD,QACR,EAA0BE,mBAAS,IAAnC,mBAAOjB,EAAP,KAAckB,EAAd,KAEA,EAAiDC,cAAzCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,SAAUC,EAAlC,EAAkCA,WAElCC,qBAAU,WACPC,MAEA,CAACV,IAEJ,IAAMU,EAAc,WACjBF,IACAD,EAASP,GACLW,KAAKC,IAGNA,EAAgB,SAAC3B,GACpBkB,EAASlB,IAGN4B,EAAeP,EAAQ,cAAC,IAAD,IAAmB,KAC1CQ,EAAUT,EAAU,cAAC,IAAD,IAAc,KAClCU,EAAYV,GAAWC,EAAkC,KAAzB,cAACtB,EAAD,CAAMC,MAAOA,IAEnD,OACG,qCACI4B,EACAC,EACAC","file":"static/js/6.cb693802.chunk.js","sourcesContent":["import { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport useKinopoiskService from '../../../services/use-kinopoisk-server';\r\nimport ErrorMessage from '../../error-message/error-message';\r\nimport Spinner from '../../spinner/spinner';\r\n\r\nimport './single-movie-page.scss';\r\n\r\n\r\nconst SingleMoviePage = () => {\r\n   const { movieId } = useParams();\r\n   const [movie, setMovie] = useState({});\r\n\r\n   const { loading, error, getMovie, clearError } = useKinopoiskService();\r\n\r\n   useEffect(() => {\r\n      updateMovie()\r\n      //eslint-disable-next-line\r\n   }, [movieId])\r\n\r\n   const updateMovie = () => {\r\n      clearError();\r\n      getMovie(movieId)\r\n         .then(onMovieLoaded)\r\n   }\r\n\r\n   const onMovieLoaded = (movie) => {\r\n      setMovie(movie)\r\n   }\r\n\r\n   const errorMessage = error ? <ErrorMessage /> : null;\r\n   const spinner = loading ? <Spinner /> : null;\r\n   const content = !(loading || error) ? <View movie={movie} /> : null;\r\n\r\n   return (\r\n      <>\r\n         {errorMessage}\r\n         {spinner}\r\n         {content}\r\n      </>\r\n   )\r\n}\r\n\r\nconst View = ({ movie }) => {\r\n   const { name, imageUrl, age, ratingImdb, ratingKinopoisk, year, description, shortDescription, countries, genres } = movie;\r\n\r\n   return (\r\n      <section className='single-movie container'>\r\n         <div className=\"single-movie__wrapper\">\r\n            <div className=\"single-movie__img\">\r\n               <img src={imageUrl} alt={name} />\r\n            </div>\r\n            <div className=\"single-movie__info\">\r\n               <div className=\"single-movie__title\">\r\n                  <h2 className='single-movie__name'>{name} ({year})</h2>\r\n                  <div className=\"single-movie__rating\">\r\n                     <p className=\"single-movie__rating-kinopoisk\">{ratingKinopoisk}<span>КиноПоиск</span></p>\r\n                     <p className=\"single-movie__rating-imdb\">{ratingImdb} <span>IMDb</span></p>\r\n                  </div>\r\n               </div>\r\n               <div className=\"single-movie__about-film\">\r\n                  <h3 className='single-movie__about-title'>О фильме</h3>\r\n                  <div className=\"single-movie__item\">\r\n                     <p>Год производства</p>\r\n                     <p>{year}</p>\r\n                  </div>\r\n                  <div className=\"single-movie__item\">\r\n                     <p>Страна</p>\r\n                     <p>{countries}</p>\r\n                  </div>\r\n                  <div className=\"single-movie__item\">\r\n                     <p>Жанр</p>\r\n                     <p>{genres}</p>\r\n                  </div>\r\n                  <div className=\"single-movie__item\">\r\n                     <p>Слоган</p>\r\n                     <p>{shortDescription}</p>\r\n                  </div>\r\n                  <div className=\"single-movie__item\">\r\n                     <p>Возраст</p>\r\n                     <p>{age === '—' ? age : '+' + age}</p>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n         <div className=\"single-movie__plot\">\r\n            <h3 className='single-movie__plot-title'>Сюжет</h3>\r\n            <p className='single-movie__plot-text'>\r\n               {description}\r\n            </p>\r\n         </div>\r\n      </section>\r\n   )\r\n}\r\n\r\nexport default SingleMoviePage;"],"sourceRoot":""}